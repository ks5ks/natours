{"mappings":"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","sources":["public/js/index.js","public/js/login.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","public/js/leafet.js"],"sourcesContent":["/* eslint-disable */\nimport '@babel/polyfill';\n\nimport { login } from './login';\n\n// if this is the login page, listen for the event\nif (document.URL.includes('login')) {\n  document.querySelector('.form').addEventListener('submit', (e) => {\n    e.preventDefault();\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n\n    login(email, password);\n  });\n}\n\nimport { displayMap } from './leafet';\nif (document.URL.includes('tour')) {\n  const start = JSON.parse(document.getElementById('start').dataset.start);\n  const locations = JSON.parse(\n    document.getElementById('map').dataset.locations\n  );\n\n  displayMap(start, locations);\n}\n","/* eslint-disable */\nimport axios from 'axios';\n\nexport const login = async (email, password) => {\n  try {\n    const res = await axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:8000/api/v1/users/login',\n      data: {\n        email: email,\n        password: password,\n      },\n    });\n\n    if (res.data.status === 'success') {\n      alert('Logged in successfully');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n    console.log(res);\n  } catch (err) {\n    alert('Invalid email address or password');\n  }\n};\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","/* eslint-disable */\nexport const displayMap = (start, locations) => {\n  const map = L.map('map', { zoomControl: false }).setView(\n    start.coordinates.reverse(),\n    5\n  );\n\n  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 19,\n    attribution:\n      '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n  }).addTo(map);\n\n  map.dragging.disable();\n\n  const myIcon = L.icon({\n    iconUrl: './../img/pin.png',\n    iconSize: [30, 35],\n    iconAnchor: [15, 35],\n    popupAnchor: [0, -50],\n  });\n\n  const markerArray = [];\n  locations.forEach((loc) => {\n    const reversedArr = [...loc.coordinates].reverse();\n    markerArray.push(reversedArr);\n\n    L.marker(reversedArr, { icon: myIcon })\n      .addTo(map)\n      .bindPopup(`<p>Day ${loc.day}: ${loc.description}</p>`, {\n        autoClose: false,\n        className: 'mapPopup',\n      })\n      .on('mouseover', function (e) {\n        this.openPopup();\n      })\n      .on('mouseout', function (e) {\n        this.closePopup();\n      });\n  });\n\n  const bounds = L.latLngBounds(markerArray).pad(0.5);\n  map.fitBounds(bounds);\n  map.scrollWheelZoom.disable();\n};\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}